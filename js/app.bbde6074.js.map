{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PageTemplate.vue?90a7","webpack:///./src/App.vue?c650","webpack:///./src/components/TLink.vue?2350","webpack:///./src/pages/VueEditIndex.vue?f9db","webpack:///./src/plugins/vuetify.ts","webpack:///./src/App.vue?66a8","webpack:///./src/pages/VueEditIndex.vue?cdec","webpack:///./src/lib/VueEdit.vue?9038","webpack:///./src/lib/VueEditDomParser.vue?004d","webpack:///./src/lib/hton.ts","webpack:///src/lib/VueEditDomParser.vue","webpack:///./src/lib/VueEditDomParser.vue?c520","webpack:///./src/lib/VueEditDomParser.vue","webpack:///./src/lib/VueEditRender.vue","webpack:///./src/lib/VueEditRender.vue?075d","webpack:///./src/lib/VueEditRender.vue?bfd3","webpack:///./src/lib/VueEditDesignToolbox.vue?094d","webpack:///./src/lib/domtools.ts","webpack:///./src/lib/VueEditDesignToolbox.vue","webpack:///./src/lib/VueEditDesignToolbox.vue?7f4e","webpack:///./src/lib/VueEditDesignToolbox.vue?f3c4","webpack:///./src/lib/VueEditDesign.vue","webpack:///./src/lib/VueEditDesign.vue?c878","webpack:///./src/lib/VueEditDesign.vue?6bba","webpack:///src/lib/VueEdit.vue","webpack:///./src/lib/VueEdit.vue?aefd","webpack:///./src/lib/VueEdit.vue","webpack:///./src/components/PageTemplate.vue?afb9","webpack:///./src/components/PageTemplate.vue","webpack:///./src/components/PageTemplate.vue?547a","webpack:///./src/components/PageTemplate.vue?eb8c","webpack:///./src/components/TLink.vue?9da3","webpack:///./src/components/TLink.vue","webpack:///./src/components/TLink.vue?8759","webpack:///./src/components/TLink.vue?a909","webpack:///./src/components/GitHubLink.vue?c957","webpack:///./src/components/GitHubLink.vue","webpack:///./src/components/GitHubLink.vue?c3ea","webpack:///./src/components/GitHubLink.vue?25a1","webpack:///./src/components/FeatureList.vue?f2ec","webpack:///./src/components/FeatureList.vue","webpack:///./src/components/FeatureList.vue?969e","webpack:///./src/components/FeatureList.vue?4d10","webpack:///./src/pages/VueEditIndex.vue","webpack:///./src/pages/VueEditIndex.vue?f997","webpack:///./src/pages/VueEditIndex.vue?9389","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/assets/logo.png","webpack:///./src/lib/VueEditDesignToolbox.vue?a553","webpack:///./src/lib/VueEditDesign.vue?8a22"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","use","opts","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","directives","rawName","expression","domProps","Array","isArray","inEditMode","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","_v","preventDefault","localContent","templateComponents","insertParagraph","model","callback","tag","_e","change","hton","path","_t","ref","components","rules","HTON_NAME","HTON_CHILDREN","HTON_TEXT","HTON_ATTRS","HTON_SLOTS","newTextNode","text","node","getChildren","setChildren","children","getText","getAttrs","getAttribute","setAttribute","getSlots","setSlots","slots","cloneNode","JSON","parse","stringify","isHton","isTagNode","charAt","isTextNode","locateInNode","targetNode","TypeError","pathBuilder","childIndex","indexOf","child","entries","slotName","slotChild","normalizeTextNodesInPlace","stillToNormalize","lookahead","nodeA","nodeB","textA","textB","PathBuilder","root","index","childPath","joinPaths","isRoot","PathInfo","splitPath","lastPath","pop","privateLastFragment","splitPathFragment","parseInt","privateFragments","isEqual","parent","visitTextNode","visitTagNode","slotMap","slotNodes","visitNodeList","nodes","getKey","map","oneNode","visit","findInHton","pathList","_doFindInHton","pathNodes","_","array","subPath","split","fragment","paths","join","privatePath","nextPrivateCollection","nextNode","_handlers","newValue","currentValue","emit","pathInfo","isChild","parentPath","parentNode","position","clamp","newPath","splitNodePath","ancestorLevel","nodePath","isHtonPath","splitMode","splitNode","textNode","textNodePath","textBeforeSplitPoint","substring","offset","textAfterSplitPoint","tailTextNode","tailTextPath","_addSibling","_doSplitAt","siblings","_getSiblings","tailSiblings","parentTailDuplicate","parentSiblingPath","siblingIndex","siblingPath","isSlot","ancestorLimit","isBigBrother","newLimit","fuseBack","bigBrotherPath","bigBrotherNode","_extendNode","removeNode","sourceNode","_extendChildren","_extendSlots","targetChildren","sourceChildren","targetSlots","sourceSlots","assign","values","forEach","slotValue","wrapNode","start","end","startPath","endPath","areEqual","wrapMode","prefix","suffix","wrappedTarget","InplaceMutator","addChildren","newChildren","relativePath","addSlotChildren","wrappedTargetPath","_doGetNodePath","currentPathInfo","unshift","eventType","handlers","handler","min","max","numericValue","Math","virtualDomToHton","vnode","keys","props","htonNode","getVDomComponentName","isComponent","elm","__vue__","$options","componentOptions","Ctor","options","Error","getVDomComponentProps","filterOutAttrs","propsData","getVDomComponentChildren","scopedSlots","_normalized","default","getVDomComponentSlots","slotFn","filterOutList","includes","filtered","filterOutSlots","startsWith","nonEmptyHtonTextNodes","COMPONENT_NAME","mounted","$emit","component","htonToVirtualDom","h","registry","builder","createElement","componentRegitry","_key","visitSlots","vChildren","vNode","visitChildren","extend","type","required","render","$props","log","performance","now","vroot","staticClass","selectionPathNodes","_u","fn","item","requestSelectionChange","staticStyle","_s","requestUnwrap","requestNodeRemoval","_l","prop","getTextFieldType","isObject","jsonValue","isJson","requestPropertyChange","allSelectionSlots","selectionType","slot","proxy","refInFor","requestNewNode","requestNodePositionChange","oldIndex","newIndex","wrappingComponentName","requestWrapSelection","trim","getSelectionStartAndEndOffsets","range","getSelection","getRangeAt","startOffset","endOffset","isSelectionAtTheBeginning","startContainer","nodeType","Node","TEXT_NODE","isCollapsed","isAtStart","selectionPath","String","selectionProperties","selectionSlots","selectionChildren","VDraggable","computed","noSelectionProperties","defaultChildren","otherSlots","allSlots","noSelectionSlots","every","methods","err","isDefaultSlot","error","newNodeNameInput","$refs","nodeName","internalValue","undefined","currentPath","event","selectionBoundaries","DATA_KEY","PROP_EDIT_MODE","CLASS_TEXT_PROXY","CLASS_SELECTED","ne","visitor","onTextProxyEvent","componentLibrary","class","focusout","beforeinput","VueEditDesignToolbox","htonNodeSelected","_inplaceMutator","inplaceMutator","mutator","inspector","selectionNodeType","selectionPathNodeViews","fromEntries","existingToolboxSpacer","document","querySelector","toolboxSpacer","classList","add","body","appendChild","beforeDestroy","parentElement","removeChild","onFocusOut","onBeforeInput","Element","textContent","updateText","inputType","handleInsertParagraph","handleDeleteContentBackward","selection","splitLevel","getSplitLevel","splitAt","selectionAtTheBeginning","DEFAULT","getNodePath","definition","Set","nodeAndIndex","reverse","idx","find","has","onClick","isClickOnToolbox","htonTarget","getHtonNodeElement","setSelected","toolboxElement","toolbox","$el","onPropertyChange","setProperty","onSelectionChange","onNodeRemoval","onNodePositionChange","changeNodePosition","onNewNode","newNode","nodeFromNodeName","onWrap","forceEmpty","wrapWithNode","ex","onUnwrap","unwrapContent","_nodeFromTemplate","templates","newElementTemplates","template","clearSelected","$root","scrollTo","remove","hasAttribute","setText","wrap","unwrap","VueEditDomParser","VueEditRender","VueEditDesign","designMode","Boolean","from","design","title","url","urls","sec","TLink","readme","VueEdit","PageTemplate","GitHubLink","FeatureList","removeLocalVersion","localStorage","removeItem","watch","setItem","getItem","head","link","href","rel","VueEditIndex","config","productionTip","vuetify","App","$mount"],"mappings":"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","file":"js/app.bbde6074.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTemplate.vue?vue&type=style&index=0&id=348e3694&scoped=true&lang=scss&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TLink.vue?vue&type=style&index=0&id=4b847f62&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditIndex.vue?vue&type=style&index=0&id=45d36048&scoped=true&lang=scss&\"","import Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify)\n\nconst opts = {}\n\nexport default new Vuetify(opts)","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{attrs:{\"id\":\"app\"}},[_c('VueEditIndex')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('form',[_c('p',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inEditMode),expression:\"inEditMode\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.inEditMode)?_vm._i(_vm.inEditMode,null)>-1:(_vm.inEditMode)},on:{\"change\":function($event){var $$a=_vm.inEditMode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.inEditMode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.inEditMode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.inEditMode=$$c}}}}),_vm._v(\" Toggle edit mode \")]),_c('button',{on:{\"click\":function($event){$event.preventDefault();_vm.localContent = null}}},[_vm._v(\"Restore content\")])])]),_c('VueEdit',{attrs:{\"components\":_vm.templateComponents,\"rules\":{\n      insertParagraph: ['p', 'li'],\n    },\"design-mode\":_vm.inEditMode},model:{value:(_vm.localContent),callback:function ($$v) {_vm.localContent=$$v},expression:\"localContent\"}},[_c('PageTemplate',{attrs:{\"title\":\"Meet the vue-edit component!\"}},[_c('p',[_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\" is a \"),_c('TLink',{attrs:{\"url\":\"https://vuejs.org/\"}},[_vm._v(\"Vue.js\")]),_vm._v(\" component-tree editor built on top of the \"),_c('GitHubLink',{attrs:{\"sec\":\"hton\"}},[_vm._v(\"hton\")]),_vm._v(\" format. \")],1),_c('p',[_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\" is also a library of components, you can use it \\\"as is\\\", or you can fully customize the editor while reusing everything else. \")]),_c('h3',[_vm._v(\"How can I use it?\")]),_c('p',[_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\" is still in beta! Read the \"),_c('GitHubLink',{attrs:{\"sec\":\"readme\"}},[_c('code',[_vm._v(\"README.md\")])]),_vm._v(\" for more info. \")],1),_c('h3',[_vm._v(\"What \"),_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\" is not?\")]),_c('p',[_c('code',[_vm._v(\"vue-edit\")]),_c('em',[_vm._v(\" is not\")]),_vm._v(\" a rich text editor.\")]),_c('h3',[_vm._v(\"What you can do with \"),_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\"?\")]),_c('p',[_vm._v(\" For \"),_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\", a component, a tag or a node are all the same. \")]),_c('p',[_vm._v(\"With \"),_c('code',[_vm._v(\"vue-edit\")]),_vm._v(\" you can…\")]),_c('FeatureList',[_c('li',[_vm._v(\"Navigate the component tree.\")]),_c('li',[_vm._v(\"Edit the text inside a component.\")]),_c('li',[_vm._v(\"Wrap some text with a component.\")]),_c('li',[_vm._v(\"Wrap a component with another component.\")]),_c('li',[_vm._v(\"Add a new child node to a component.\")]),_c('li',[_vm._v(\"Remove a child node from a component.\")]),_c('li',[_vm._v(\"Edit properties of a component.\")]),_c('li',[_vm._v(\"Reorder the children of a component.\")]),_c('li',[_vm._v(\"Remove a component without removing its children.\")]),_c('li',[_vm._v(\"Split and combine text components.\")]),_c('li',[_vm._v(\"Customize the semantics of the components.\")]),_c('li',[_vm._v(\"Customize the edition experience.\")])]),_c('h3',[_vm._v(\"We are open-source!\")]),_c('ul',[_c('li',[_c('GitHubLink',[_vm._v(\"Find us at GitHub\")])],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\"},[(!_vm.value)?_c('VueEditDomParser',{on:{\"hton-ready\":function($event){return _vm.change({ hton: $event, path: null })}}},[_vm._t(\"default\")],2):_vm._e(),(_vm.designMode)?_c('VueEditDesign',{ref:\"design\",attrs:{\"hton\":_vm.value,\"components\":_vm.components,\"rules\":_vm.rules},on:{\"hton-updated\":function($event){return _vm.change($event)}}}):_c('VueEditRender',{attrs:{\"hton\":_vm.value,\"components\":_vm.components}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (false)?_c('div'):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// TODO: Be careful! This is a dict so it can be null.\n// TODO: We need to abstract this to a default map ensuring it always return a list.\n// eslint-disable-next-line no-use-before-define\nexport type SlotMap = { [key: string]: Hton[] }\nexport type AttrMap = { [key: string]: any }\nexport type TextNode = ['#t', string]\n// eslint-disable-next-line no-use-before-define\nexport type TagNode = [string, Hton[], AttrMap?, SlotMap?]\nexport type Hton = TextNode | TagNode\nexport type HtonPath = string\n\n// TODO: Considering text nodes as collections of \"character nodes\" may lead\n// to a fully recursive structure and better generalization. This way,\n// NodeOffset would not be neccessary since all the elements of the node,\n// including characters should be addressable with an HTON path.\nexport interface TextNodeOffset {\n  offset: number\n  path: HtonPath\n}\n\nexport const HTON_NAME = 0\nexport const HTON_CHILDREN = 1\nexport const HTON_TEXT = 1\nexport const HTON_ATTRS = 2\nexport const HTON_SLOTS = 3\n\nexport function newTextNode (text: string): TextNode {\n  return ['#t', text]\n}\n\nexport function getName (node: Hton): string {\n  return node[HTON_NAME]\n}\n\nexport function setName (node: Hton, name: string) {\n  node[HTON_NAME] = name\n}\n\nexport function getChildren (node: TagNode): Hton[] {\n  return node[HTON_CHILDREN] ?? []\n}\n\nexport function setChildren (node: TagNode, children: Hton[]) {\n  node[HTON_CHILDREN] = children\n}\n\nexport function getText (node: TextNode): string {\n  return node[HTON_TEXT] ?? ''\n}\n\nexport function setText (node: TextNode, text: string) {\n  node[HTON_TEXT] = text\n}\n\nexport function getAttrs (node: TagNode): AttrMap {\n  return node[HTON_ATTRS] ?? {}\n}\n\nexport function getAttribute (node: TagNode, name: string): any {\n  return getAttrs(node)[name]\n}\n\nexport function setAttribute (node: TagNode, name: string, value: any) {\n  const attrs = getAttrs(node)\n  attrs[name] = value\n}\n\nexport function setAttrs (node: TagNode, attrs: AttrMap) {\n  node[HTON_ATTRS] = attrs\n}\n\nexport function getSlots (node: TagNode): SlotMap {\n  return node[HTON_SLOTS] ?? {}\n}\n\nexport function setSlots (node: TagNode, slots: SlotMap) {\n  node[HTON_SLOTS] = slots\n}\n\nexport function cloneNode<T extends Hton> (node: T): T {\n  return JSON.parse(JSON.stringify(node))\n}\n\nexport function isHton (node: any): node is Hton {\n  return Array.isArray(node) && typeof node[0] === 'string'\n}\n\nexport function isTagNode (node: Hton): node is TagNode {\n  const name = getName(node)\n  return name.charAt(0) !== '#'\n}\n\nexport function isTextNode (node: Hton): node is TextNode {\n  const name = getName(node)\n  return name === '#t'\n}\n\nexport function locateInNode (node: Hton, targetNode: Hton): HtonPath | null {\n  if (isTextNode(node)) {\n    throw new TypeError('Text node cannot have children.')\n  }\n  const pathBuilder = new PathBuilder()\n  const childIndex = getChildren(node).indexOf(targetNode)\n  if (childIndex >= 0) {\n    return pathBuilder.child(childIndex).path\n  }\n  const slots = getSlots(node)\n  for (const [slotName, children] of Object.entries(slots)) {\n    const childIndex = children?.indexOf(targetNode)\n    if (childIndex >= 0) {\n      return pathBuilder.slotChild(slotName, childIndex).path\n    }\n  }\n  return null\n}\n\nexport function normalizeTextNodesInPlace (children: Hton[]) {\n  // Indicate all the children up to this index are normalized\n  let stillToNormalize = 0\n  let lookahead = 1\n  while (lookahead < children.length) {\n    const nodeA = children[stillToNormalize]\n    const nodeB = children[lookahead]\n    // [xxx, tag, yyy, ...] -> [yyy, ...]\n    if (isTagNode(nodeB)) {\n      stillToNormalize = lookahead + 1\n      lookahead = stillToNormalize + 1\n    // [tag, text, yyy, ...] -> [text, yyy, ...]\n    } else if (isTagNode(nodeA)) {\n      stillToNormalize = lookahead\n      lookahead = stillToNormalize + 1\n    // [textA, textB, yyy, ...] -> [textA + textB, yyy, ...]\n    } else {\n      const textA = getText(nodeA)\n      const textB = getText(nodeB)\n      setText(nodeA, textA + textB)\n      children.splice(lookahead, 1)\n    }\n  }\n}\n\nexport class PathBuilder {\n  static root = ''\n\n  path: HtonPath\n\n  constructor (path: HtonPath = PathBuilder.root) {\n    this.path = path\n  }\n\n  child (index: number, { slotName }:{ slotName?: string | null } = { slotName: null }): this {\n    if (slotName) {\n      return this.slotChild(slotName, index)\n    }\n    const childPath = `#${HTON_CHILDREN}#${index}`\n    this.path = joinPaths(this.path, childPath)\n    return this\n  }\n\n  slotChild (slotName: string, index: number): this {\n    const childPath = `#${HTON_SLOTS}#${slotName}#${index}`\n    this.path = joinPaths(this.path, childPath)\n    return this\n  }\n}\n\n// eslint-disable-next-line no-use-before-define\ninterface IsRootPath<T extends Hton> extends PathInfo<T, null> {\n  parent: null\n  childIndex: null\n  isRoot: () => true\n}\n\n// eslint-disable-next-line no-use-before-define\ninterface IsChildPath<T extends Hton, P extends TagNode> extends PathInfo<T, P> {\n  // eslint-disable-next-line no-use-before-define\n  parent: PathInfo<T, P>\n  childIndex: number\n  isRoot: () => false\n}\n\n// eslint-disable-next-line no-use-before-define\ninterface IsSlotChildPath<T extends Hton, P extends TagNode> extends IsChildPath<T, P> {\n  isSlot: () => true\n  slotName: string\n}\n\nexport class PathInfo<T extends Hton, P extends TagNode | null> {\n  path: HtonPath\n\n  constructor (path: HtonPath) {\n    this.path = path\n  }\n\n  get parent (): PathInfo<T, P> | null {\n    if (this.isRoot()) {\n      return null\n    }\n    return new PathInfo(joinPaths(\n      ...splitPath(this.path).slice(0, -1)\n    ))\n  }\n\n  get childIndex (): number | null {\n    if (this.path === PathBuilder.root) { return null }\n    const lastPath = splitPath(this.path).pop()\n    if (!lastPath) {\n      throw new TypeError(`Cannot extract sub-paths from ${this.path}`)\n    }\n    const privateLastFragment = splitPathFragment(lastPath).pop()\n    if (!privateLastFragment) {\n      throw new TypeError(`Cannot extract private fragments from ${this.path}`)\n    }\n    return parseInt(privateLastFragment, 10)\n  }\n\n  get slotName (): string | null {\n    if (this.path === PathBuilder.root) { return null }\n    const lastPath = splitPath(this.path).pop()\n    if (!lastPath) {\n      throw new TypeError(`Cannot extract sub-paths from ${this.path}`)\n    }\n    const privateFragments = splitPathFragment(lastPath)\n    if (privateFragments.length !== 4) { return null }\n    return privateFragments[2]\n  }\n\n  isSlot<PP extends TagNode> (): this is IsSlotChildPath<T, PP> {\n    return this.slotName !== null\n  }\n\n  isEqual (path: HtonPath): boolean {\n    return this.path === path\n  }\n\n  isRoot (): this is IsRootPath<T> {\n    return this.isEqual(PathBuilder.root)\n  }\n\n  isChild<PP extends TagNode> (): this is IsChildPath<T, PP> {\n    return this.parent !== null\n  }\n\n  static isHtonPath (path: HtonPath | TextNodeOffset | undefined): path is HtonPath {\n    return typeof path === 'string'\n  }\n}\n\nexport type TransformedSlots<T> = Record<string, T[]>\nexport interface HtonVisitor<T> {\n  visit (node: Hton, key?: HtonPath): T\n  visitTextNode (node: TextNode, key: HtonPath): T\n  visitTagNode (node: TagNode, key: HtonPath): T\n  visitChildren (node: TagNode, key: HtonPath): T[]\n  visitSlots (node: TagNode, key: HtonPath): TransformedSlots<T>\n}\nexport abstract class HtonVisitorBase<T> implements HtonVisitor<T> {\n  visit (node: Hton, key: HtonPath = PathBuilder.root): T {\n    if (!Array.isArray(node)) {\n      throw new TypeError(`node is of an invalid type (${typeof node}). HTON nodes are 4-element lists.`)\n    }\n\n    if ((node as any[]).length === 0 || node.length > 4) {\n      throw new TypeError(`node is of an invalid length (${node.length}). HTON nodes are of the form [string, node[]?, object?, object?]`)\n    }\n\n    if (isTextNode(node)) {\n      return this.visitTextNode(node, key)\n    }\n\n    return this.visitTagNode(node, key)\n  }\n\n  abstract visitTextNode (node: Hton, key: HtonPath): T\n\n  abstract visitTagNode (node: Hton, key: HtonPath): T\n\n  visitSlots (node: TagNode, key: HtonPath): TransformedSlots<T> {\n    const slots = getSlots(node)\n    const slotMap: TransformedSlots<T> = {}\n    for (const [slotName, slotNodes] of Object.entries(slots)) {\n      slotMap[slotName] =\n        this.visitNodeList(\n          slotNodes,\n          index => new PathBuilder(key).slotChild(slotName, index).path\n        )\n    }\n    return slotMap\n  }\n\n  visitChildren (node: TagNode, key: HtonPath): T[] {\n    const children = getChildren(node)\n    return this.visitNodeList(\n      children,\n      index => new PathBuilder(key).child(index).path\n    )\n  }\n\n  visitNodeList (nodes: Hton[], getKey: (index: number) => HtonPath) {\n    return nodes.map((oneNode, index) => {\n      return this.visit(oneNode, getKey(index))\n    })\n  }\n}\n\nexport function findInHton (path: HtonPath, hton: Hton): Hton | null {\n  const pathList = splitPath(path)\n  return _doFindInHton(pathList, hton)\n}\n\nexport function pathNodes (path: HtonPath, node: Hton): [HtonPath, Hton][] {\n  return splitPath(path).map((_, index, array) => {\n    const subPath = joinPaths(...array.slice(0, index + 1))\n    const child = findInHton(subPath, node)\n    if (child === null) {\n      throw new TypeError(`Path \"${subPath}\" does not lead to an HTON node`)\n    }\n    return [subPath, child]\n  })\n}\n\nexport function splitPath (path: HtonPath): HtonPath[] {\n  return path.split('.')\n}\n\nfunction splitPathFragment (fragment: string): string[] {\n  return fragment.split('#')\n}\n\nexport function joinPaths (...paths: HtonPath[]): HtonPath {\n  return paths.join('.')\n}\n\nfunction _doFindInHton (pathList: HtonPath[], node: Hton): Hton | null {\n  if (pathList.length === 0) {\n    return node\n  }\n\n  const privatePath = pathList[0] // TypeScript \"!\" indicates non-undefined\n  const privateFragments = privatePath.split('#')\n  let nextPrivateCollection: any = node\n  while (nextPrivateCollection && privateFragments.length > 0) {\n    const fragment = privateFragments.shift()\n    if (fragment === '') { continue }\n    nextPrivateCollection = fragment && nextPrivateCollection?.[fragment]\n  }\n\n  const nextNode = nextPrivateCollection\n  return isHton(nextNode)\n    ? _doFindInHton(pathList.slice(1), nextNode)\n    : null\n}\n\nexport interface HtonInspector {\n  hton: Hton\n\n  get (path: HtonPath): Hton\n\n  getNodePath (args: { path: HtonPath }): Hton[]\n\n  getName (args: { path: HtonPath }): string\n}\n\nexport interface HtonMutator {\n  setText (path: HtonPath, newValue: string): this\n\n  setProperty (path: HtonPath, name: string, newValue: any): this\n\n  removeNode (path: HtonPath): this\n\n  changeNodePosition (path: HtonPath, position: number): this\n\n  addChildren (path: HtonPath, position: number | 'start' | 'end', ...nodes: Hton[]): this\n\n  addSlotChildren (path: HtonPath, slotName: string, position: number | 'start' | 'end', ...nodes: Hton[]): this\n\n  wrapWithNode (wrapNode: Hton, start: HtonPath | TextNodeOffset, end: HtonPath | TextNodeOffset | undefined): this\n\n  splitAt (splitNode: HtonPath | TextNodeOffset, ancestorLevel: number): this\n\n  fuseBack (targetNode: HtonPath, ancestorLimit: number | null): this\n\n  unwrapContent (path: HtonPath): this\n\n  emit (eventType: string, data: Record<any, any>): void\n\n  on (eventType: string, handler: CallableFunction): void\n}\n\n// TODO: Should it be an inmutable version with all modifications producing new\n// copies of the HTON? I think that would make the mutator easier to reason with\n// and prevent some errors.\n\nexport class InplaceMutator implements HtonMutator, HtonInspector {\n  hton: Hton\n\n  _handlers: Record<string, CallableFunction[]>\n\n  constructor (hton: Hton) {\n    this.hton = hton\n    this._handlers = {}\n  }\n\n  setText (path: HtonPath, newValue: string): this {\n    const node = this.get(path)\n    if (!isTextNode(node)) {\n      throw new TypeError(`HTON node [${getName(node)}, ...] is not a text node.`)\n    }\n    const currentValue = getText(node)\n    if (currentValue !== newValue) {\n      setText(node, newValue)\n      this.emit('hton-updated', { path })\n    }\n    return this\n  }\n\n  setProperty (path: HtonPath, name: string, newValue: any): this {\n    const node = this.get(path)\n    if (!isTagNode(node)) {\n      throw new TypeError(\n        `HTON node [${getName(node)}, ...] is not a tag node and so, it does not have properties.`)\n    }\n    const currentValue = getAttribute(node, name)\n    if (currentValue !== newValue) {\n      setAttribute(node, name, newValue)\n      this.emit('hton-updated', { path })\n    }\n    return this\n  }\n\n  removeNode (path: HtonPath): this {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Removing the root node is impossible.')\n    } else if (pathInfo.isChild()) {\n      const slotName = pathInfo.slotName\n      const parentPath = pathInfo.parent.path\n      const childIndex = pathInfo.childIndex\n      const parentNode = this.get(parentPath)\n      if (!isTagNode(parentNode)) {\n        throw new TypeError(`Unreachable. Parent node [${getName(parentNode)}, ...] must be a tag node.`)\n      }\n      const children = slotName\n        ? getSlots(parentNode)[slotName]\n        : getChildren(parentNode)\n      children.splice(childIndex!, 1)\n      this.emit('hton-updated', { path: parentPath })\n    }\n    return this\n  }\n\n  changeNodePosition (path: HtonPath, position: number): this {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Changing the position of the root node is impossible.')\n    } else if (pathInfo.isChild()) {\n      const slotName = pathInfo.slotName\n      const parentPath = pathInfo.parent.path\n      const childIndex = pathInfo.childIndex\n      if (childIndex === null) {\n        throw new TypeError('No child index for this node. Removing the root node is impossible.')\n      }\n      const parentNode = this.get(parentPath)\n      if (!isTagNode(parentNode)) {\n        throw new TypeError(`Not possible. Parent node [${getName(parentNode)}, ...] must be a tag node.`)\n      }\n      const children = slotName\n        ? getSlots(parentNode)[slotName]\n        : getChildren(parentNode)\n      position = clamp(position, 0, children.length - 1)\n      if (position !== childIndex) {\n        const node = children.splice(childIndex, 1)[0]\n        children.splice(position, 0, node)\n        const newPath = slotName\n          ? new PathBuilder(parentPath).slotChild(slotName, position)\n          : new PathBuilder(parentPath).child(position)\n        this.emit('hton-updated', { parentPath, path: newPath })\n      }\n    }\n    return this\n  }\n\n  addChildren (path: HtonPath, position: number | 'start' | 'end', ...nodes: Hton[]): this {\n    const parentNode = this.get(path)\n    if (isTextNode(parentNode)) {\n      throw new TypeError(`Node [${getName(parentNode)} is a text node and text nodes have not children.`)\n    }\n    const children = getChildren(parentNode)\n    position = clamp(position, 0, children.length)\n    children.splice(position, 0, ...nodes)\n    this.emit('hton-updated', { path })\n    return this\n  }\n\n  addSlotChildren (path: HtonPath, slotName: string, position: number | 'start' | 'end', ...nodes: Hton[]): this {\n    const parentNode = this.get(path)\n    if (isTextNode(parentNode)) {\n      throw new TypeError(`Node [${getName(parentNode)} is a text node and text nodes have not slots.`)\n    }\n    const children = getSlots(parentNode)[slotName]\n    position = clamp(position, 0, children.length)\n    children.splice(position, 0, ...nodes)\n    this.emit('hton-updated', { path })\n    return this\n  }\n\n  splitAt (splitNodePath: HtonPath | TextNodeOffset, ancestorLevel: number): this {\n    const nodePath = PathInfo.isHtonPath(splitNodePath) ? splitNodePath : splitNodePath.path\n    const pathInfo = new PathInfo(nodePath)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Splitting the root node is not possible.')\n    } else if (pathInfo.isChild()) {\n      const splitMode = PathInfo.isHtonPath(splitNodePath) ? 'node' : 'text'\n      const splitNode = this.get(nodePath)\n      if (isTextNode(splitNode) && splitMode === 'text') {\n        const textNode = splitNode\n        const textNodePath = nodePath\n        const textBeforeSplitPoint = getText(textNode).substring(0, (splitNodePath as TextNodeOffset).offset)\n        const textAfterSplitPoint = getText(textNode).substring((splitNodePath as TextNodeOffset).offset)\n        const tailTextNode = cloneNode(textNode)\n        setText(textNode, textBeforeSplitPoint)\n        setText(tailTextNode, textAfterSplitPoint)\n        const tailTextPath = this._addSibling(textNodePath, tailTextNode)\n        const newPath = this._doSplitAt(tailTextPath, ancestorLevel)\n        this.emit('hton-updated', { path: newPath })\n      } else if (isTagNode(splitNode) && splitMode === 'node') {\n        const newPath = this._doSplitAt(nodePath, ancestorLevel)\n        this.emit('hton-updated', { path: newPath })\n      }\n    }\n    return this\n  }\n\n  // TODO: Review the role or name of ancestorLevel. Splitting at 0 should do something, I think.\n  // TODO: Maybe it makes more sense saying split ANCESTOR at DESCENDANT.\n  // TODO: Something like _doSplitAt(ancestor: HtonPath, descendant: HtonPath)\n  // TODO: But I must ensure the descendant is really a descendant of ancestor. So,\n  // it is better to set the descendant and the levels of ascentors above. The thing\n  // is that you always split at, at least, one level above, even for text.\n  _doSplitAt (splitNodePath: HtonPath, ancestorLevel: number): HtonPath {\n    const pathInfo = new PathInfo(splitNodePath)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Splitting on the root node is not possible.')\n    } else if (pathInfo.isChild()) {\n      if (ancestorLevel === 0) {\n        return splitNodePath\n      }\n      const parentPath = pathInfo.parent.path\n      const parentNode = this.get(parentPath) as TagNode\n      const siblings = this._getSiblings(splitNodePath)\n      const tailSiblings = siblings.splice(pathInfo.childIndex, siblings.length - pathInfo.childIndex)\n      const parentTailDuplicate = cloneNode(parentNode)\n      setChildren(parentTailDuplicate, tailSiblings)\n      const parentSiblingPath = this._addSibling(parentPath, parentTailDuplicate)\n      return this._doSplitAt(parentSiblingPath, ancestorLevel - 1)\n    }\n    throw new TypeError('Unreachable. The split path must be either the root or a child.')\n  }\n\n  _getSiblings (path: HtonPath): Hton[] {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('The root path has no siblings.')\n    } else if (pathInfo.isChild()) {\n      const parentPath = pathInfo.parent.path\n      const parentNode = this.get(parentPath) as TagNode\n      const slotName = pathInfo.slotName\n      const siblings = slotName\n        ? getSlots(parentNode)[slotName]\n        : getChildren(parentNode)\n      return siblings\n    }\n    throw new TypeError('Unreachable. The path must be either the root or a child.')\n  }\n\n  _addSibling (path: HtonPath, node: Hton): HtonPath {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Cannot add a sibling to the root node.')\n    } else if (pathInfo.isChild()) {\n      const parentPath = pathInfo.parent\n      const siblings = this._getSiblings(path)\n      const siblingIndex = pathInfo.childIndex + 1\n      siblings.splice(siblingIndex, 0, node)\n      const siblingPath = new PathBuilder(parentPath.path)\n      if (pathInfo.isSlot()) {\n        const slotName = pathInfo.slotName\n        siblingPath.slotChild(slotName, siblingIndex)\n      } else {\n        siblingPath.child(siblingIndex)\n      }\n      return siblingPath.path\n    }\n    throw new TypeError('Unreachable. The path must be either the root or a child.')\n  }\n\n  fuseBack (path: HtonPath, ancestorLimit: number | null): this {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Cannot fuse back the root node. There is nothing to fuse back with')\n    } else if (pathInfo.isChild()) {\n      const isBigBrother = pathInfo.childIndex === 0\n      if (isBigBrother) {\n        if (ancestorLimit === null || ancestorLimit > 0) {\n          const newLimit = ancestorLimit === null\n            ? null\n            : ancestorLimit - 1\n          return this.fuseBack(pathInfo.parent.path, newLimit)\n        } else {\n          return this\n        }\n      }\n\n      const targetNode = this.get(path)\n      const bigBrotherPath = new PathBuilder(pathInfo.parent.path)\n        .child(pathInfo.childIndex - 1, { slotName: pathInfo.slotName })\n        .path\n      const bigBrotherNode = this.get(bigBrotherPath)\n\n      this._extendNode(bigBrotherNode, targetNode)\n      this.removeNode(path)\n\n      this.emit('hton-updated', { path: bigBrotherPath })\n    }\n    return this\n  }\n\n  _extendNode (targetNode: Hton, sourceNode: Hton): void {\n    if (getName(targetNode) !== getName(sourceNode)) {\n      throw new TypeError(\n        `Cannot extend a node with another of a different type (trying to extend ${getName(targetNode)} with ${getName(sourceNode)}).`\n      )\n    }\n    if (isTextNode(targetNode) && isTextNode(sourceNode)) {\n      setText(targetNode, getText(targetNode) + getText(sourceNode))\n    } else if (isTagNode(targetNode) && isTagNode(sourceNode)) {\n      this._extendChildren(targetNode, sourceNode)\n      this._extendSlots(targetNode, sourceNode)\n    } else {\n      throw new TypeError('Unreachable. If nodes have the same name, they must be of the same type.')\n    }\n  }\n\n  _extendChildren (targetNode: TagNode, sourceNode: TagNode): void {\n    const targetChildren = getChildren(targetNode)\n    const sourceChildren = getChildren(sourceNode)\n    targetChildren.push(...sourceChildren)\n    normalizeTextNodesInPlace(targetChildren)\n    setChildren(targetNode, targetChildren)\n  }\n\n  _extendSlots (targetNode: TagNode, sourceNode: TagNode): void {\n    const targetSlots = getSlots(targetNode)\n    const sourceSlots = getSlots(sourceNode)\n    Object.assign(targetSlots, sourceSlots)\n    Object.values(sourceSlots).forEach((slotValue) => {\n      normalizeTextNodesInPlace(slotValue)\n    })\n    setSlots(targetNode, targetSlots)\n  }\n\n  wrapWithNode (wrapNode: Hton, start: HtonPath | TextNodeOffset, end: HtonPath | TextNodeOffset | undefined): this {\n    const startPath = PathInfo.isHtonPath(start) ? start : start.path\n    const endPath = PathInfo.isHtonPath(end) ? end : end?.path\n    const areEqual = !endPath || new PathInfo(startPath).isEqual(endPath)\n    const wrapMode = typeof endPath === 'undefined' ? 'node' : 'text'\n    if (!areEqual) {\n      throw new TypeError(\n        'Wrapping ranges going throw different parent nodes is not yet supported')\n    }\n    if (wrapMode === 'node' && typeof start !== 'string') {\n      throw new TypeError(\n        'When ommitting `end` parameter to wrap a node, `start` parameter must be an HTON path')\n    }\n    if (wrapMode === 'text') {\n      const textNode = this.get(startPath)\n      if (!isTextNode(textNode)) {\n        throw new TypeError(\n          'If wrapping around a text selection, `start` and `end` paths should ' +\n          'be the same text node'\n        )\n      }\n      if (isTextNode(wrapNode)) {\n        throw new TypeError(\n          'The wrap note cannot be a TextNode because TextNode instances cannot ' +\n          'have children'\n        )\n      }\n      if (typeof start === 'string' || !end || typeof end === 'string') {\n        throw new TypeError(\n          'If wrapping around a text selection, `start` and `end` should be ' +\n          'instances of TextNodeOffset'\n        )\n      }\n      // Split text content into three text nodes and wrap the one with the target text.\n      const text = getText(textNode)\n      const prefix = newTextNode(text.substring(0, start.offset))\n      const suffix = newTextNode(text.substring(end.offset))\n      const target = newTextNode(text.substring(start.offset, end.offset))\n      const wrappedTarget = new InplaceMutator(wrapNode)\n        .addChildren(PathBuilder.root, 'start', target)\n        .hton\n      const newChildren = [prefix, wrappedTarget, suffix]\n\n      // Replace the text node with the triplet of nodes.\n      const pathInfo = new PathInfo(startPath)\n      if (pathInfo.isRoot()) {\n        throw new TypeError('Cannot wrap the root node.')\n      } else if (pathInfo.isChild()) {\n        const parentPath = pathInfo.parent.path\n        const parentNode = this.get(parentPath) as TagNode\n        const relativePath = new PathInfo(locateInNode(parentNode, textNode) as HtonPath)\n        const index = relativePath.childIndex as number\n        if (relativePath.isSlot()) {\n          const slotName = relativePath.slotName\n          new InplaceMutator(parentNode)\n            .removeNode(new PathBuilder().slotChild(slotName, index).path)\n            .addSlotChildren(PathBuilder.root, slotName, index, ...newChildren)\n        } else {\n          new InplaceMutator(parentNode)\n            .removeNode(new PathBuilder().child(index).path)\n            .addChildren(PathBuilder.root, index, ...newChildren)\n        }\n\n        const wrappedTargetPath = new PathBuilder(parentPath).child(index + 1)\n        this.emit('hton-updated', { path: wrappedTargetPath.path })\n      }\n    } else {\n      // Wrap the target\n      const targetNode = this.get(startPath)\n      const wrappedTarget = new InplaceMutator(wrapNode)\n        .addChildren(PathBuilder.root, 'start', targetNode)\n        .hton\n\n      // Replace the target with the wrapped target\n      const pathInfo = new PathInfo(startPath)\n      if (pathInfo.isRoot()) {\n        throw new TypeError('Cannot wrap the root node.')\n      } else if (pathInfo.isChild()) {\n        const parentPath = pathInfo.parent.path\n        const parentNode = this.get(parentPath) as TagNode\n        const relativePath = new PathInfo(locateInNode(parentNode, targetNode) as HtonPath)\n        const index = relativePath.childIndex as number\n        if (relativePath.isSlot()) {\n          const slotName = relativePath.slotName\n          new InplaceMutator(parentNode)\n            .removeNode(new PathBuilder().slotChild(slotName, index).path)\n            .addSlotChildren(PathBuilder.root, slotName, index, wrappedTarget)\n        } else {\n          new InplaceMutator(parentNode)\n            .removeNode(new PathBuilder().child(index).path)\n            .addChildren(PathBuilder.root, index, wrappedTarget)\n        }\n        const wrappedTargetPath = new PathBuilder(parentPath).child(index)\n        this.emit('hton-updated', { path: wrappedTargetPath.path })\n      }\n    }\n    return this\n  }\n\n  unwrapContent (path: HtonPath): this {\n    const pathInfo = new PathInfo(path)\n    if (pathInfo.isRoot()) {\n      throw new TypeError('Cannot unwrap the content of the root node')\n    } else if (pathInfo.isChild()) {\n      const targetNode = this.get(path)\n      if (isTextNode(targetNode)) {\n        throw new TypeError('Cannot unwrap the content of a text node')\n      }\n      const children = getChildren(targetNode)\n      const parentPath = pathInfo.parent.path\n      const parentNode = this.get(parentPath) as TagNode\n      const relativePath = new PathInfo(locateInNode(parentNode, targetNode) as HtonPath)\n      const index = relativePath.childIndex as number\n      if (relativePath.isSlot()) {\n        const slotName = relativePath.slotName\n        new InplaceMutator(parentNode)\n          .removeNode(new PathBuilder().slotChild(slotName, index).path)\n          .addSlotChildren(PathBuilder.root, slotName, index, ...children)\n        normalizeTextNodesInPlace(getSlots(parentNode)[slotName])\n      } else {\n        new InplaceMutator(parentNode)\n          .removeNode(new PathBuilder().child(index).path)\n          .addChildren(PathBuilder.root, index, ...children)\n        normalizeTextNodesInPlace(getChildren(parentNode))\n      }\n      this.emit('hton-updated', { path })\n    }\n    return this\n  }\n\n  get (path: HtonPath): Hton {\n    const node = findInHton(path, this.hton)\n    if (node === null) {\n      throw new TypeError(`HTON node not found at \"${path}\"`)\n    }\n    return node\n  }\n\n  getNodePath ({ path = PathBuilder.root }): Hton[] {\n    return this._doGetNodePath(new PathInfo(path))\n  }\n\n  getName ({ path = PathBuilder.root }): string {\n    return getName(this.get(path))\n  }\n\n  // TODO: Generalize the mutator and the inspector (OMG!)\n  _doGetNodePath (pathInfo: PathInfo<Hton, TagNode> | null): Hton[] {\n    const nodePath = []\n    let currentPathInfo = pathInfo\n    while (currentPathInfo !== null) {\n      nodePath.unshift(this.get(currentPathInfo.path))\n      currentPathInfo = currentPathInfo.parent\n    }\n    return nodePath\n  }\n\n  emit (eventType: string, data: Record<any, any>) {\n    const handlers = this._handlers[eventType] ?? []\n    handlers.forEach((handler: CallableFunction) => handler(data))\n  }\n\n  on (eventType: string, handler: CallableFunction) {\n    if (!(eventType in this._handlers)) {\n      this._handlers[eventType] = []\n    }\n    this._handlers[eventType].push(handler)\n  }\n}\n\nfunction clamp (value: number | 'start' | 'end', min: number, max: number): number {\n  const numericValue = typeof value === 'string'\n    ? { start: 0, end: max }[value]\n    : value\n  return Math.max(min, Math.min(numericValue, max))\n}\n","<template>\n  <div v-if=\"false\" />\n</template>\n\n<script>\nimport Consola from \"consola\";\nimport { isTextNode as isHtonTextNode, getText as getHtonText } from \"./hton\";\n\nconst COMPONENT_NAME = \"vue-edit-dom-parser\";\n\nfunction virtualDomToHton(vnode) {\n  const name = getVDomComponentName(vnode);\n  const props = getVDomComponentProps(vnode);\n  const children = getVDomComponentChildren(vnode);\n  const slots = getVDomComponentSlots(vnode);\n\n  const htonNode = [name, children];\n  if (Object.keys(props).length > 0) {\n    htonNode.push(props);\n  }\n  if (Object.keys(slots).length > 0) {\n    if (htonNode.length < 3) {\n      htonNode.push({});\n    }\n    htonNode.push(slots);\n  }\n\n  return htonNode;\n}\n\nfunction getVDomComponentName(vnode) {\n  if (isTextNode(vnode)) {\n    return \"#t\";\n  }\n\n  let name = vnode?.tag.split(\"-\").pop();\n  if (isComponent(vnode)) {\n    if (vnode?.elm?.__vue__?.$options?.name) {\n      name = vnode.elm.__vue__.$options.name;\n    } else if (vnode?.componentOptions?.Ctor?.options?.name) {\n      name = vnode.componentOptions.Ctor.options.name;\n    }\n  }\n\n  if (!name) {\n    throw new Error(`Component name of ${vnode.tag} not found.`);\n  }\n\n  return name;\n}\n\nfunction getVDomComponentProps(vnode) {\n  if (isTextNode(vnode)) {\n    return {};\n  }\n\n  const props = {};\n  // TODO: What about the class, is it in attributes? Need testing.\n  if (vnode?.data?.attrs) {\n    Object.assign(props, filterOutAttrs(vnode.data.attrs));\n  }\n  if (vnode?.componentOptions?.propsData) {\n    Object.assign(props, vnode.componentOptions.propsData);\n  }\n  return props;\n}\n\nfunction getVDomComponentChildren(vnode) {\n  if (isTextNode(vnode)) {\n    return getText(vnode);\n  }\n\n  let children = [];\n  if (!isComponent(vnode) && vnode.children) {\n    children = vnode.children;\n  } else if (vnode?.data?.scopedSlots?._normalized?.default) {\n    children = vnode.data.scopedSlots._normalized.default();\n  } else if (vnode?.componentOptions?.children) {\n    children = vnode.componentOptions.children;\n  }\n  return children\n    .map((vnode) => virtualDomToHton(vnode))\n    .filter(nonEmptyHtonTextNodes);\n}\n\nfunction getVDomComponentSlots(vnode) {\n  if (!isComponent(vnode)) {\n    return {};\n  }\n\n  let slots = {};\n  if (vnode?.data?.scopedSlots?._normalized) {\n    slots = vnode.data.scopedSlots._normalized;\n  } else if (vnode?.data?.scopedSlots) {\n    slots = vnode.data.scopedSlots;\n  }\n\n  const namedSlots = filterOutSlots(slots);\n  const result = {};\n  for (const [name, slotFn] of Object.entries(namedSlots)) {\n    result[name] = slotFn({})\n      .map((vnode) => virtualDomToHton(vnode))\n      .filter(nonEmptyHtonTextNodes);\n  }\n  return result;\n}\n\nfunction isComponent(vnode) {\n  return (\n    (vnode.componentInstance ?? false) || (vnode.componentOptions ?? false)\n  );\n}\n\nfunction isTextNode(vnode) {\n  return typeof vnode.text !== \"undefined\";\n}\n\nfunction getText(vnode) {\n  return vnode.text;\n}\n\nfunction filterOutAttrs(attrs) {\n  const filtered = {};\n  const filterOutList = [];\n  for (const [name, value] of Object.entries(attrs)) {\n    if (!filterOutList.includes(name)) {\n      filtered[name] = value;\n    }\n  }\n  return filtered;\n}\n\nfunction filterOutSlots(slots) {\n  const filtered = {};\n  for (const [name, value] of Object.entries(slots)) {\n    if (name !== \"default\" && !name.startsWith(\"__\") && !name.startsWith(\"$\")) {\n      filtered[name] = value;\n    }\n  }\n  return filtered;\n}\n\nfunction nonEmptyHtonTextNodes(hton) {\n  return !isHtonTextNode(hton) || getHtonText(hton).trim() !== \"\";\n}\n\nexport default {\n  name: COMPONENT_NAME,\n  mounted() {\n    const root = this.$slots.default.find((vnode) => !!vnode.tag);\n    if (!root) {\n      Consola.error(\n        `\\`${COMPONENT_NAME}\\` component's default slot cannot be empty.`\n      );\n      return;\n    }\n    const hton = virtualDomToHton(root);\n    this.$emit(\"hton-ready\", hton);\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDomParser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDomParser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueEditDomParser.vue?vue&type=template&id=c2d72ace&\"\nimport script from \"./VueEditDomParser.vue?vue&type=script&lang=js&\"\nexport * from \"./VueEditDomParser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\nimport Vue, { CreateElement, VNode } from 'vue'\nimport { ScopedSlot } from 'vue/types/vnode'\nimport Consola from 'consola'\nimport { getAttrs, getName, getText, Hton, HtonPath, HtonVisitorBase, TagNode, TextNode } from './hton'\n\nconst COMPONENT_NAME = 'vue-edit-render'\n\nexport type ComponentRegistry = {\n  [key: string]: Parameters<CreateElement>[0]\n}\n\n/**\n * Transform a HTON tree into a hierarchy of Vue components.\n *\n * HTON stands for Hyper Text Object Notation and is inspired by the JSON flavor\n * of the HyperPython specification, HyperJSON:\n * https://hyperpython.readthedocs.io/en/latest/hyperjson.html\n *\n * HTON nodes are 4-element tuples of the form:\n * `[<tagname>, <children list> | <text content>, <attribute map>, <slot map>]`\n *\n * The children list, and attribute and slot maps are optional.\n *\n * An HTON node like:\n * ```\n * [\n *   'app-header',\n *   [ ['#t', 'This is the header'] ],\n *   { class: 'theme-dark' },\n *   {\n *     subtitle: [ ['strong', ['#t', 'Some subtitle']] ]\n *   }\n * ]\n * ```\n *\n * Translates into:\n * ```\n * <app-header class=\"theme-dark\">\n *   This is the header\n *   <template name=\"subtitle\">\n *     <strong>Some subtitle</strong>\n *   </template>\n * </app-header>\n * ```\n */\nfunction htonToVirtualDom (h: CreateElement, node: Hton, registry: ComponentRegistry) {\n  const builder = new VDomBuilder(h, registry)\n  return builder.visit(node)\n}\n\nexport class VDomBuilder extends HtonVisitorBase<VNode | string> {\n  createElement: CreateElement\n\n  componentRegitry: ComponentRegistry\n\n  constructor (createElement: any, componentRegitry: any) {\n    super()\n    this.createElement = createElement\n    this.componentRegitry = componentRegitry\n  }\n\n  visitTextNode (node: TextNode, _key: HtonPath) {\n    return getText(node)\n  }\n\n  visitTagNode (node: TagNode, key: HtonPath) {\n    const slots = this.visitSlots(node, key)\n    const scopedSlots: { [key: string]: ScopedSlot | undefined } = {}\n    for (const [slotName, vChildren] of Object.entries(slots)) {\n      scopedSlots[slotName] = function () { return vChildren }\n    }\n\n    const name = getName(node)\n    const attrs = getAttrs(node)\n    const vNode = this.componentRegitry[name] ?? name\n    return this.createElement(vNode, {\n      attrs,\n      props: attrs,\n      scopedSlots\n    }, this.visitChildren(node, key))\n  }\n}\n\nexport default Vue.extend({\n  name: COMPONENT_NAME,\n  props: {\n    hton: {\n      type: Array,\n      required: false,\n      default () { return null }\n    },\n    components: {\n      type: Object,\n      required: false,\n      default () { return {} }\n    }\n  },\n  render (h) {\n    const { hton, components } = this.$props\n    Consola.log('Target HTON:', hton)\n    const start = performance.now()\n    const vroot = hton && htonToVirtualDom(h, hton, components)\n    Consola.log('Render done in', performance.now() - start, 'ms')\n    return vroot || null\n  }\n})\n","var render, staticRenderFns\nimport script from \"./VueEditRender.vue?vue&type=script&lang=ts&\"\nexport * from \"./VueEditRender.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditRender.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditRender.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"vue-edit-toolbox\",attrs:{\"elevation\":\"2\",\"outlined\":\"\",\"dark\":\"\"}},[_c('v-breadcrumbs',{attrs:{\"divider\":\">\",\"items\":_vm.selectionPathNodes},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-breadcrumbs-item',[_c('v-btn',{attrs:{\"elevation\":\"2\"},on:{\"click\":function($event){return _vm.requestSelectionChange(item.path)}}},[_c('span',{staticStyle:{\"text-transform\":\"none\"}},[_vm._v(_vm._s(item.name))])]),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.requestUnwrap(item.path)}}},[_c('v-icon',[_vm._v(\" mdi-border-none-variant \")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.requestNodeRemoval(item.path)}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)],1)]}}])}),_c('v-divider'),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"scroll\"},[_c('v-card',[_c('v-card-text',[(_vm.noSelectionProperties)?_c('p',[_vm._v(\" No properties for this component. \")]):_vm._l((_vm.selectionProperties),function(prop){return _c('v-text-field',{key:prop.name,attrs:{\"label\":prop.name,\"hint\":(\"Type: \" + (_vm.getTextFieldType(prop))),\"value\":_vm.isObject(prop) ? _vm.jsonValue(prop.value) : prop.value,\"rules\":_vm.isObject(prop) ? [_vm.isJson] : []},on:{\"change\":function($event){return _vm.requestPropertyChange(prop, $event)}}})})],2)],1)],1),_c('v-col',{staticClass:\"scroll\"},[_c('v-card',[_c('v-card-text',[(!_vm.allSelectionSlots.length || _vm.selectionType === 'text')?_c('p',[_vm._v(\" No children for this element. \")]):_c('v-list',_vm._l((_vm.allSelectionSlots),function(slot){return _c('v-list-group',{key:slot.name,scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-title',[_vm._v(\" \"+_vm._s(slot.name)+\" \")])]},proxy:true}],null,true)},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[(slot.children.length > 0)?_c('v-list-item',[_c('v-text-field',{ref:(\"new-node-\" + (slot.name) + \"-start\"),refInFor:true,attrs:{\"label\":\"New child at the start\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.requestNewNode(slot, 'start')}}},[_c('v-icon',[_vm._v(\" mdi-plus \")])],1)],1):_vm._e(),_c('v-draggable',{attrs:{\"handle\":\".drag-handle\"},on:{\"end\":function($event){return _vm.requestNodePositionChange(\n                        slot,\n                        $event.oldIndex,\n                        $event.newIndex\n                      )}}},_vm._l((slot.children),function(child){return _c('v-list-item',{key:child.path},[_c('v-icon',{staticClass:\"drag-handle\"},[_vm._v(\" mdi-dots-vertical \")]),_c('v-list-item-content',[_vm._v(\" [\"+_vm._s(child.index)+\"] \"+_vm._s(child.name)+\" \")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.requestSelectionChange(child.path)}}},[_c('v-icon',[_vm._v(\" mdi-target \")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.requestNodeRemoval(child.path)}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)],1)}),1),_c('v-list-item',[_c('v-text-field',{ref:(\"new-node-\" + (slot.name) + \"-end\"),refInFor:true,attrs:{\"label\":\"New child at the end\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.requestNewNode(slot, 'end')}}},[_c('v-icon',[_vm._v(\" mdi-plus \")])],1)],1)],1),_c('v-divider')],1)}),1)],1)],1)],1),_c('v-col',[_c('v-card',[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Wrap with component\"},model:{value:(_vm.wrappingComponentName),callback:function ($$v) {_vm.wrappingComponentName=$$v},expression:\"wrappingComponentName\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"type\":\"submit\"},on:{\"click\":function($event){_vm.requestWrapSelection(_vm.wrappingComponentName.trim())}}},[_vm._v(\" Wrap \")])],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\"Quick wraps\")]),_c('v-card-text',[_c('v-btn',{on:{\"click\":function($event){return _vm.requestWrapSelection('strong')}}},[_c('v-icon',[_vm._v(\" mdi-format-bold \")])],1),_c('v-btn',{on:{\"click\":function($event){return _vm.requestWrapSelection('em')}}},[_c('v-icon',[_vm._v(\" mdi-format-italic \")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport function getSelectionStartAndEndOffsets (): [number, number] | null {\n  const range = window.getSelection()?.getRangeAt(0)\n  if (!range) { return null }\n  return [range.startOffset, range.endOffset]\n}\n\nexport function isSelectionAtTheBeginning (): boolean {\n  const range = window.getSelection()?.getRangeAt(0)\n  if (!range) { return false }\n  const node = range?.startContainer\n  if (node.nodeType !== Node.TEXT_NODE) { return false }\n  const isCollapsed = range.startOffset === range.endOffset\n  // TODO: Should check if the node is displayed collapsing white space at the beginning.\n  const isAtStart = (node as Text).data?.substring(0, range.startOffset).trim() === ''\n  return isCollapsed && isAtStart\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropOptions } from \"vue\";\nimport Consola from \"consola\";\nimport { HtonPath, TextNodeOffset } from \"./hton\";\nimport { getSelectionStartAndEndOffsets } from \"./domtools\";\nimport Draggable from \"vuedraggable\";\n\nconst COMPONENT_NAME = \"vue-edit-design-toolbox\";\n\nexport interface PropertyView {\n  name: string;\n  value: any;\n}\n\nexport interface ChildView {\n  name: string;\n  index?: number | undefined;\n  path: HtonPath;\n}\n\nexport interface SlotView {\n  path: HtonPath;\n  name: string;\n  children: ChildView[];\n}\n\nexport interface NodePositionChangeEvent {\n  path: HtonPath;\n  index: number;\n}\n\nexport interface NewNodeEvent {\n  path: HtonPath;\n  index: number | \"start\" | \"end\";\n  slotName?: string | undefined;\n  nodeName: string;\n}\n\nexport interface WrapNodeEvent {\n  nodeName: string;\n  start: HtonPath | TextNodeOffset;\n  end?: HtonPath | TextNodeOffset | undefined;\n}\n\nexport interface UnwrapEvent {\n  path: HtonPath;\n}\n\nexport default Vue.extend({\n  name: COMPONENT_NAME,\n  props: {\n    selectionPath: {\n      type: String,\n      required: false,\n      default: null,\n    } as PropOptions<HtonPath | null>,\n    selectionType: {\n      type: String,\n      required: false,\n      default: null,\n    } as PropOptions<\"text\" | \"tag\" | null>,\n    selectionPathNodes: {\n      type: Array,\n      required: false,\n      default() {\n        return [];\n      },\n    } as PropOptions<ChildView[]>,\n    selectionProperties: {\n      type: Array,\n      required: false,\n      default() {\n        return [];\n      },\n    } as PropOptions<PropertyView[]>,\n    selectionSlots: {\n      type: Object,\n      required: false,\n      default() {\n        return {};\n      },\n    } as PropOptions<Record<string, ChildView[]>>,\n    selectionChildren: {\n      type: Array,\n      required: false,\n      default() {\n        return [];\n      },\n    } as PropOptions<ChildView[]>,\n  },\n  data() {\n    return { wrappingComponentName: \"\" };\n  },\n  components: {\n    VDraggable: Draggable,\n  },\n  computed: {\n    noSelectionProperties(): boolean {\n      return this.selectionProperties.length === 0;\n    },\n    allSelectionSlots(): SlotView[] {\n      const path = this.selectionPath;\n      if (path === null) {\n        return [];\n      }\n      const defaultChildren = { default: this.selectionChildren };\n      const otherSlots = this.selectionSlots;\n      const allSlots = {\n        ...defaultChildren,\n        ...otherSlots,\n      };\n      return Object.entries(allSlots).map(([name, children]) => ({\n        path,\n        name,\n        children,\n      }));\n    },\n    noSelectionSlots(): boolean {\n      return this.allSelectionSlots.every(({ children }) => !children.length);\n    },\n  },\n  methods: {\n    isObject(property: PropertyView): boolean {\n      return typeof property.value === \"object\";\n    },\n    isJson(value: string): boolean | string {\n      try {\n        JSON.parse(value);\n        return true;\n      } catch (err) {\n        return \"Not a valid JSON string\";\n      }\n    },\n    jsonValue(value: any): string {\n      return JSON.stringify(value);\n    },\n    requestPropertyChange(property: PropertyView, value: any) {\n      try {\n        value = this.isObject(property) ? JSON.parse(value) : value;\n      } catch (err) {\n        return;\n      }\n      this.$emit(\"property-change\", {\n        path: this.selectionPath,\n        name: property.name,\n        value,\n      });\n    },\n    getTextFieldType(property: PropertyView): string {\n      const type = typeof property.value;\n      return type === \"object\" ? \"JSON\" : type;\n    },\n    requestSelectionChange(path: HtonPath | null) {\n      this.$emit(\"selection-change\", path);\n    },\n    requestNodeRemoval(path: HtonPath) {\n      this.$emit(\"node-removal\", path);\n    },\n    requestNodePositionChange(\n      slot: SlotView,\n      oldIndex: number,\n      newIndex: number\n    ) {\n      const path = this.isDefaultSlot(slot)\n        ? this.selectionChildren?.[oldIndex].path\n        : this.selectionSlots?.[slot.name]?.[oldIndex].path;\n      if (!path) {\n        Consola.error(\n          `It was not possible to locate the node at position ${oldIndex} in the slot`,\n          slot\n        );\n        return;\n      }\n      this.$emit(\"node-position-change\", { path, index: newIndex });\n    },\n    requestNewNode(slot: SlotView, position: \"start\" | \"end\") {\n      const path = slot.path;\n      const newNodeNameInput = (\n        this.$refs[`new-node-${slot.name}-${position}`] as Vue[]\n      )[0];\n      // TODO: Do this in a more Vue way, binding it with a\n      // model to avoid accessing an internal property, or propose a new UI.\n      const nodeName = (\n        newNodeNameInput as Vue & { internalValue: any }\n      ).internalValue.trim();\n      if (!nodeName) {\n        return;\n      }\n      const slotName = this.isDefaultSlot(slot) ? undefined : slot.name;\n      this.$emit(\"new-node\", { path, slotName, nodeName, index: position });\n    },\n    requestWrapSelection(nodeName: string) {\n      const currentPath = this.selectionPath;\n      if (!nodeName || !currentPath) {\n        return;\n      }\n\n      let event: WrapNodeEvent | null = null;\n      const selectionBoundaries = getSelectionStartAndEndOffsets();\n      if (\n        !selectionBoundaries ||\n        selectionBoundaries[0] === selectionBoundaries[1]\n      ) {\n        event = {\n          nodeName,\n          start: currentPath,\n        };\n      } else {\n        const [startOffset, endOffset] = selectionBoundaries;\n        event = {\n          nodeName,\n          start: {\n            path: currentPath,\n            offset: startOffset,\n          },\n          end: {\n            path: currentPath,\n            offset: endOffset,\n          },\n        };\n      }\n      this.$emit(\"wrap\", event);\n    },\n    requestUnwrap(path: HtonPath) {\n      this.$emit(\"unwrap\", { path });\n    },\n    isDefaultSlot(slot: SlotView): boolean {\n      return slot.name === \"default\";\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesignToolbox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesignToolbox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VueEditDesignToolbox.vue?vue&type=template&id=4b176c44&scoped=true&\"\nimport script from \"./VueEditDesignToolbox.vue?vue&type=script&lang=ts&\"\nexport * from \"./VueEditDesignToolbox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./VueEditDesignToolbox.vue?vue&type=style&index=0&id=4b176c44&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b176c44\",\n  null\n  \n)\n\nexport default component.exports","\nimport Vue, { CreateElement, VNode, PropType } from 'vue'\nimport { ScopedSlot } from 'vue/types/vnode'\nimport Consola from 'consola'\nimport { HtonMutator, HtonInspector, PathBuilder, findInHton, getAttrs, getChildren, getName, getSlots, getText, Hton, HtonPath, HtonVisitorBase, isTextNode, InplaceMutator, pathNodes, TagNode, TextNode, TextNodeOffset, cloneNode } from './hton'\n\nimport { ComponentRegistry } from './VueEditRender.vue'\nimport VueEditDesignToolbox, { ChildView, NewNodeEvent, NodePositionChangeEvent, UnwrapEvent, WrapNodeEvent } from './VueEditDesignToolbox.vue'\nimport { getSelectionStartAndEndOffsets, isSelectionAtTheBeginning } from './domtools'\n\nconst COMPONENT_NAME = 'vue-edit-design'\nconst DATA_KEY = `data-${COMPONENT_NAME}-key`\nconst PROP_EDIT_MODE = 'in-edit-mode'\nconst CLASS_TEXT_PROXY = `${COMPONENT_NAME}__text-proxy`\nconst CLASS_SELECTED = `${COMPONENT_NAME}__selected`\n\n/**\n * Transform a HTON tree into a hierarchy of Vue components.\n *\n * HTON stands for Hyper Text Object Notation and is inspired by the JSON flavor\n * of the HyperPython specification, HyperJSON:\n * https://hyperpython.readthedocs.io/en/latest/hyperjson.html\n *\n * HTON nodes are 4-element tuples of the form:\n * `[<tagname>, <children list> | <text content>, <attribute map>, <slot map>]`\n *\n * The children list, and attribute and slot maps are optional.\n *\n * An HTON node like:\n * ```\n * [\n *   'app-header',\n *   [ ['#t', 'This is the header'] ],\n *   { class: 'theme-dark' },\n *   {\n *     subtitle: [ ['strong', ['#t', 'Some subtitle']] ]\n *   }\n * ]\n * ```\n *\n * Translates into:\n * ```\n * <app-header class=\"theme-dark\">\n *   This is the header\n *   <template name=\"subtitle\">\n *     <strong>Some subtitle</strong>\n *   </template>\n * </app-header>\n * ```\n */\nfunction htonToVirtualDom (h: CreateElement, node: Hton, registry: ComponentRegistry, ne: any) {\n  const visitor = new VDomDesignBuilder(\n    h,\n    registry,\n    ne.onTextProxyEvent.bind(ne)\n  )\n  return visitor.visit(node)\n}\n\ntype EventHandler = (event: UIEvent) => any\n\nclass VDomDesignBuilder extends HtonVisitorBase<VNode> {\n  createElement: CreateElement\n\n  componentLibrary: ComponentRegistry\n\n  onTextProxyEvent: EventHandler\n\n  constructor (createElement: CreateElement, componentLibrary: ComponentRegistry, onTextProxyEvent: EventHandler) {\n    super()\n    this.createElement = createElement\n    this.componentLibrary = componentLibrary\n    this.onTextProxyEvent = onTextProxyEvent\n  }\n\n  visitTextNode (node: TextNode, key: HtonPath) {\n    const text = getText(node)\n    return this.createElement('span', {\n      ref: key,\n      attrs: { [DATA_KEY]: key, contenteditable: true, [PROP_EDIT_MODE]: true },\n      class: [CLASS_TEXT_PROXY],\n      on: {\n        focusout: this.onTextProxyEvent,\n        beforeinput: this.onTextProxyEvent\n      }\n    }, text)\n  }\n\n  visitTagNode (node: TagNode, key: HtonPath) {\n    const slots = this.visitSlots(node, key)\n    const scopedSlots: Record<string, ScopedSlot | undefined> = {}\n    for (const [slotName, vChildren] of Object.entries(slots)) {\n      scopedSlots[slotName] = function () { return vChildren }\n    }\n\n    const name = getName(node)\n    const attrs = {\n      ...getAttrs(node),\n      [DATA_KEY]: key,\n      [PROP_EDIT_MODE]: true\n    }\n    const vNode = this.componentLibrary[name] ?? name\n    return this.createElement(vNode, {\n      ref: key,\n      attrs,\n      props: attrs,\n      scopedSlots\n    }, this.visitChildren(node, key))\n  }\n}\n\ntype VueEditDesignData = Record<any, any> & {\n  htonNodeSelected: HtonPath | null\n}\n\ntype PropertyChangeRequest = {\n  path: HtonPath,\n  name: string,\n  value: any\n}\n\ninterface DesignRules {\n  insertParagraph?: string[]\n  newElementTemplates?: Record<string, Hton>\n}\n\nexport default Vue.extend({\n  name: COMPONENT_NAME,\n  components: {\n    VueEditDesignToolbox\n  },\n  props: {\n    hton: {\n      type: Array as any as PropType<Hton>,\n      required: false,\n      default () { return null }\n    },\n    components: {\n      type: Object,\n      required: false,\n      default () { return {} }\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    rules: {\n      type: Object as PropType<DesignRules>,\n      required: false,\n      default () { return {} }\n    }\n  },\n  data (): VueEditDesignData {\n    return {\n      htonNodeSelected: null\n    }\n  },\n  computed: {\n    _inplaceMutator (): InplaceMutator {\n      const inplaceMutator = new InplaceMutator(this.hton)\n      inplaceMutator.on(\n        'hton-updated',\n        ({ path }: { path: string }) => this.$emit(\n          'hton-updated',\n          { hton: inplaceMutator.hton, path }\n        )\n      )\n      return inplaceMutator\n    },\n    mutator (): HtonMutator {\n      return this._inplaceMutator\n    },\n    inspector (): HtonInspector {\n      return this._inplaceMutator\n    },\n    selectionNodeType (): 'text' | 'tag' | null {\n      if (this.htonNodeSelected === null) { return null }\n      const node = findInHton(this.htonNodeSelected, this.hton)\n      if (node === null) { return null }\n      return isTextNode(node)\n        ? 'text'\n        : 'tag'\n    },\n    selectionPathNodeViews (): ChildView[] {\n      if (this.htonNodeSelected === null) { return [] }\n      const nodes = pathNodes(this.htonNodeSelected, this.hton)\n      return nodes\n        .map(([path, node]) => ({\n          name: getName(node),\n          path\n        }))\n    },\n    selectionProperties (): Record<string, any>[] {\n      if (this.htonNodeSelected === null) { return [] }\n      const node = findInHton(this.htonNodeSelected, this.hton)\n      if (node === null || isTextNode(node)) { return [] }\n      return Object\n        .entries(getAttrs(node))\n        .map(([name, value]) => ({ name, value }))\n    },\n    selectionChildren (): ChildView[] {\n      const { htonNodeSelected } = this\n      if (htonNodeSelected === null) { return [] }\n      const node = findInHton(htonNodeSelected, this.hton)\n      if (node === null || isTextNode(node)) { return [] }\n      const children = getChildren(node)\n      return children\n        .map((child, index) => ({\n          name: getName(child),\n          index,\n          path: new PathBuilder(htonNodeSelected).child(index).path\n        }))\n    },\n    selectionSlots (): Record<string, ChildView[]> {\n      const { htonNodeSelected } = this\n      if (htonNodeSelected === null) { return {} }\n      const node = findInHton(htonNodeSelected, this.hton)\n      if (node === null || isTextNode(node)) { return {} }\n      const slots = getSlots(node)\n      return Object.fromEntries(\n        Object\n          .entries(slots)\n          .map(([name, children]) => [\n            name,\n            children\n              .map((child, index) => ({\n                name: getName(child),\n                index,\n                path: new PathBuilder(htonNodeSelected).slotChild(name, index).path\n              }))\n          ])\n      )\n    }\n  },\n  mounted () {\n    const existingToolboxSpacer = document.querySelector('.vue-edit-design_toolbox-spacer')\n    if (!existingToolboxSpacer) {\n      const toolboxSpacer = document.createElement('div')\n      toolboxSpacer.classList.add('vue-edit-design__toolbox-spacer')\n      document.body.appendChild(toolboxSpacer)\n    }\n  },\n  beforeDestroy () {\n    const existingToolboxSpacer = document.querySelector('.vue-edit-design__toolbox-spacer')\n    if (existingToolboxSpacer) {\n      existingToolboxSpacer.parentElement!.removeChild(existingToolboxSpacer)\n    }\n  },\n  methods: {\n    onTextProxyEvent (event: Event) {\n      if (event.type === 'focusout') {\n        this.onFocusOut(event as UIEvent)\n      }\n      if (event.type === 'beforeinput') {\n        this.onBeforeInput(event as InputEvent)\n      }\n    },\n    onFocusOut (event: UIEvent) {\n      const target = event.target\n      if (target === null || !(target instanceof Element)) {\n        Consola.error('No text proxy HTML element around editable text node.')\n        return\n      }\n      const textContent = target.textContent ?? ''\n      const path = target.getAttribute(DATA_KEY)\n      this.updateText(path, textContent)\n    },\n    onBeforeInput (event: InputEvent) {\n      if (event.inputType === 'insertParagraph') {\n        return this.handleInsertParagraph(event)\n      }\n      if (event.inputType === 'deleteContentBackward') {\n        return this.handleDeleteContentBackward(event)\n      }\n    },\n    handleInsertParagraph (event: InputEvent) {\n      const selection = getSelectionStartAndEndOffsets()\n      if (selection === null || this.htonNodeSelected === null) { return }\n      const endOffset = selection[1]\n      const target: TextNodeOffset = {\n        path: this.htonNodeSelected,\n        offset: endOffset\n      }\n      const splitLevel = this.getSplitLevel(this.htonNodeSelected)\n      if (splitLevel) {\n        this.mutator.splitAt(target, splitLevel)\n      }\n      event.preventDefault()\n    },\n    handleDeleteContentBackward (event: InputEvent) {\n      if (this.htonNodeSelected === null) { return }\n      const selectionAtTheBeginning = isSelectionAtTheBeginning()\n      if (!selectionAtTheBeginning) { return }\n      this.mutator.fuseBack(this.htonNodeSelected, 1)\n      event.preventDefault()\n    },\n    getSplitLevel (path: HtonPath): number | null {\n      const DEFAULT = ['p']\n      const nodePath = this.inspector.getNodePath({ path })\n      const definition = (this.rules?.insertParagraph ?? DEFAULT)\n      const options = new Set(definition)\n\n      const nodeAndIndex = nodePath\n        .slice()\n        .reverse()\n        .map((node, idx) => [node, idx] as [Hton, number])\n        .find(([node]) => options.has(getName(node)))\n\n      return nodeAndIndex?.[1] ?? null\n    },\n    onClick (event: PointerEvent) {\n      const target = event.target\n      if (target === null || !(target instanceof Element)) {\n        Consola.error('No target element for click event.')\n        return\n      }\n      if (this.isClickOnToolbox(target)) { return }\n      const htonTarget = this.getHtonNodeElement(target)\n      this.setSelected(htonTarget)\n    },\n    isClickOnToolbox (target: Element | null): boolean {\n      if (target === null) { return false }\n      const toolboxElement = (this.$refs.toolbox as Vue).$el\n      return toolboxElement === target\n        ? true\n        : this.isClickOnToolbox(target.parentElement)\n    },\n    onPropertyChange (event: PropertyChangeRequest) {\n      const { path, name, value } = event\n      this.mutator.setProperty(path, name, value)\n    },\n    onSelectionChange (path: HtonPath) {\n      const htonTarget = this.$el.querySelector(`[${DATA_KEY}=\"${path}\"]`)\n      if (htonTarget === null) {\n        Consola.error(`No node with HTON path \"${path}\" found.`)\n        return\n      }\n      this.setSelected(htonTarget)\n    },\n    onNodeRemoval (path: HtonPath) {\n      this.mutator.removeNode(path)\n    },\n    onNodePositionChange ({ path, index }: NodePositionChangeEvent) {\n      this.mutator.changeNodePosition(path, index)\n    },\n    onNewNode ({ path, index, slotName, nodeName }: NewNodeEvent) {\n      const newNode = this.nodeFromNodeName(nodeName)\n      if (!slotName) {\n        this.mutator.addChildren(path, index, newNode)\n      } else {\n        this.mutator.addSlotChildren(path, slotName, index, newNode)\n      }\n    },\n    onWrap ({ nodeName, start, end }: WrapNodeEvent) {\n      const newNode = this.nodeFromNodeName(nodeName, { forceEmpty: true })\n      try {\n        this.mutator.wrapWithNode(newNode, start, end)\n      } catch (ex) {\n        Consola.error('Cannot wrap the range:', ex)\n      }\n    },\n    onUnwrap ({ path }: UnwrapEvent) {\n      try {\n        this.mutator.unwrapContent(path)\n        this.htonNodeSelected = ''\n      } catch (ex) {\n        Consola.error(`Cannot remove node at \\`${path}\\`:`, ex)\n      }\n    },\n    nodeFromNodeName (nodeName: string, { forceEmpty }: {forceEmpty?: boolean } = {}): Hton {\n      const newNode = this._nodeFromTemplate(nodeName)\n      // TODO: defaulting in adding a text node is not ideal.\n      const children = (forceEmpty ? [] : [['#t', 'Lorem ipsum dolor sit amet.']] as Hton[])\n      return newNode || [nodeName, children]\n    },\n    _nodeFromTemplate (nodeName: string): Hton | null {\n      const DEFAULT = {\n        '#t': ['#t', 'Lorem ipsum dolor sit amet.']\n      }\n      const templates = Object.assign(DEFAULT, this.rules.newElementTemplates ?? {})\n      const template = templates[nodeName]\n      return template ? cloneNode(template) : null\n    },\n    setSelected (node: Element | string | null) {\n      this.clearSelected()\n      if (typeof node === 'string') {\n        node = this.$root.$el.querySelector(`[${DATA_KEY}=\"${node}\"]`)\n      }\n      if (node === null) { return }\n      node.classList.add(CLASS_SELECTED)\n      node.scrollTo()\n      this.htonNodeSelected = node.getAttribute(DATA_KEY)\n    },\n    clearSelected () {\n      document\n        .querySelector(`.${CLASS_SELECTED}`)\n        ?.classList\n        .remove(CLASS_SELECTED)\n      this.htonNodeSelected = null\n    },\n    getHtonNodeElement (node: Element | null): Element | null {\n      if (node === null) { return null }\n      return node.hasAttribute(DATA_KEY)\n        ? node\n        : this.getHtonNodeElement(node.parentElement)\n    },\n    updateText (path: any, text: string) {\n      this.mutator.setText(path, text)\n    }\n  },\n  render (createElement): VNode {\n    const { hton, components, tag } = this.$props\n    Consola.log('In DESIGN MODE')\n    const start = performance.now()\n    const vroot = hton && htonToVirtualDom(createElement, hton, components, this)\n    Consola.log('Render done in', performance.now() - start, 'ms')\n    const toolbox = createElement(\n      VueEditDesignToolbox,\n      {\n        ref: 'toolbox',\n        props: {\n          'selection-path': this.htonNodeSelected,\n          'selection-type': this.selectionNodeType,\n          'selection-path-nodes': this.selectionPathNodeViews,\n          'selection-properties': this.selectionProperties,\n          'selection-children': this.selectionChildren,\n          'selection-slots': this.selectionSlots\n        },\n        class: ['vue-edit-design__toolbox'],\n        on: {\n          'property-change': this.onPropertyChange,\n          'selection-change': this.onSelectionChange,\n          'node-removal': this.onNodeRemoval,\n          'node-position-change': this.onNodePositionChange,\n          'new-node': this.onNewNode,\n          wrap: this.onWrap,\n          unwrap: this.onUnwrap\n        }\n      }\n    )\n    // TODO: Split into two components to separate the toolbox from the render\n    const children = [toolbox]\n    vroot && children.unshift(vroot)\n    return createElement(tag,\n      { on: { '!click': this.onClick } },\n      children\n    )\n  }\n})\n","var render, staticRenderFns\nimport script from \"./VueEditDesign.vue?vue&type=script&lang=ts&\"\nexport * from \"./VueEditDesign.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./VueEditDesign.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesign.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesign.vue?vue&type=script&lang=ts&\"","<template>\n  <component :is=\"tag\">\n    <VueEditDomParser\n      v-if=\"!value\"\n      @hton-ready=\"change({ hton: $event, path: null })\"\n    >\n      <slot />\n    </VueEditDomParser>\n    <VueEditDesign\n      v-if=\"designMode\"\n      ref=\"design\"\n      :hton=\"value\"\n      :components=\"components\"\n      :rules=\"rules\"\n      @hton-updated=\"change($event)\"\n    />\n    <VueEditRender v-else :hton=\"value\" :components=\"components\" />\n  </component>\n</template>\n\n<script>\nimport VueEditDomParser from \"./VueEditDomParser.vue\";\nimport VueEditRender from \"./VueEditRender.vue\";\nimport VueEditDesign from \"./VueEditDesign.vue\";\n\nconst COMPONENT_NAME = \"vue-edit\";\n\nexport default {\n  name: COMPONENT_NAME,\n  components: {\n    VueEditDomParser,\n    VueEditRender,\n    VueEditDesign,\n  },\n  model: {\n    event: \"change\",\n  },\n  props: {\n    components: {\n      type: Object,\n      required: false,\n      default() {\n        return {};\n      },\n    },\n    tag: {\n      type: String,\n      required: false,\n      default: \"div\",\n    },\n    designMode: {\n      type: Boolean,\n      required: false,\n    },\n    rules: {\n      type: Object,\n      required: false,\n      default() {\n        return {};\n      },\n    },\n    value: {\n      type: Array,\n      required: false,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      hton: this.value,\n    };\n  },\n  methods: {\n    change({ hton, path }) {\n      // XXX: shallow-copy to force a data update\n      this.hton = Array.from(hton);\n      this.$refs.design.setSelected(path);\n      this.$emit(\"change\", this.hton);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueEdit.vue?vue&type=template&id=547eb816&\"\nimport script from \"./VueEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./VueEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"PageTemplate\",\n  props: {\n    title: String,\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTemplate.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTemplate.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageTemplate.vue?vue&type=template&id=348e3694&scoped=true&\"\nimport script from \"./PageTemplate.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageTemplate.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageTemplate.vue?vue&type=style&index=0&id=348e3694&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"348e3694\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.inEditMode ? 'span' : 'a',{tag:\"component\",staticClass:\"link\",attrs:{\"href\":_vm.url,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"TLink\",\n  props: {\n    url: String,\n    inEditMode: {\n      type: Boolean,\n      default: false,\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TLink.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TLink.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TLink.vue?vue&type=template&id=4b847f62&scoped=true&\"\nimport script from \"./TLink.vue?vue&type=script&lang=ts&\"\nexport * from \"./TLink.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TLink.vue?vue&type=style&index=0&id=4b847f62&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b847f62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TLink',{attrs:{\"url\":_vm.urls[_vm.sec],\"in-edit-mode\":_vm.inEditMode}},[_vm._t(\"default\",function(){return [_vm._v(\"GitHub\")]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from \"vue\";\nimport TLink from \"./TLink.vue\";\n\nexport default Vue.extend({\n  name: \"GitHubLink\",\n  components: {\n    TLink,\n  },\n  props: {\n    inEditMode: {\n      type: Boolean,\n      default: false,\n    },\n    sec: {\n      type: String,\n      default: \"index\",\n    },\n  },\n  data() {\n    return {\n      urls: {\n        index: \"https://github.com/qiskit-community/vue-edit\",\n        readme: \"https://github.com/qiskit-community/vue-edit#vue-edit\",\n        hton: \"https://github.com/qiskit-community/vue-edit#hton\",\n      },\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GitHubLink.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GitHubLink.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GitHubLink.vue?vue&type=template&id=9423efbe&\"\nimport script from \"./GitHubLink.vue?vue&type=script&lang=ts&\"\nexport * from \"./GitHubLink.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"FeatureList\",\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureList.vue?vue&type=template&id=181f2728&scoped=true&\"\nimport script from \"./FeatureList.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"181f2728\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport VueEdit from \"../lib/VueEdit.vue\";\nimport PageTemplate from \"../components/PageTemplate.vue\";\nimport TLink from \"../components/TLink.vue\";\nimport GitHubLink from \"../components/GitHubLink.vue\";\nimport FeatureList from \"../components/FeatureList.vue\";\n\nexport default Vue.extend({\n  name: \"VueEditIndex\",\n  components: {\n    VueEdit,\n    PageTemplate,\n    TLink,\n    GitHubLink,\n    FeatureList,\n  },\n  computed: {\n    templateComponents() {\n      return {\n        PageTemplate,\n        TLink,\n        GitHubLink,\n        FeatureList,\n      };\n    },\n  },\n  methods: {\n    removeLocalVersion() {\n      localStorage.removeItem(\"vue-edit-content\");\n    },\n  },\n  data() {\n    return {\n      inEditMode: true,\n      localContent: null,\n    };\n  },\n  watch: {\n    localContent(newValue) {\n      if (!newValue) {\n        this.removeLocalVersion();\n      } else {\n        localStorage.setItem(\"vue-edit-content\", JSON.stringify(newValue));\n      }\n    },\n  },\n  mounted() {\n    const localContent = localStorage.getItem(\"vue-edit-content\");\n    if (localContent) {\n      this.localContent = JSON.parse(localContent);\n    }\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditIndex.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditIndex.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VueEditIndex.vue?vue&type=template&id=45d36048&scoped=true&\"\nimport script from \"./VueEditIndex.vue?vue&type=script&lang=ts&\"\nexport * from \"./VueEditIndex.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./VueEditIndex.vue?vue&type=style&index=0&id=45d36048&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45d36048\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport VueEditIndex from \"./pages/VueEditIndex.vue\";\n\nexport default Vue.extend({\n  name: \"App\",\n  head: {\n    link: [\n      {\n        href: \"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900\",\n        rel: \"stylesheet\",\n      },\n      {\n        href: \"https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css\",\n        rel: \"stylesheet\",\n      },\n    ],\n  },\n  components: {\n    VueEditIndex,\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1219bfbf&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueHead from 'vue-head'\nimport vuetify from '@/plugins/vuetify' // path to vuetify export\n\nimport App from './App.vue'\n\nVue.use(VueHead);\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesignToolbox.vue?vue&type=style&index=0&id=4b176c44&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueEditDesign.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}